# Основные понятия

- **Git** - система контроля версий (отслеживает изменения в файлах)
- **GitHub/GitLab** - удаленные серверы для хранения репозиториев
- **Репозиторий** - папка проекта под управлением Git
    - **Локальный** - на нашем компьютере
    - **Удаленный** - на GitHub/GitLab
- **Коммит** - сохранение текущего состояния проекта с комментарием
- **Staging area** - промежуточная область, куда добавляются файлы перед коммитом через `git add`
- **Ветка** - отдельная версия проекта (main - итоговая протестированная версия)

---

# `git config` - настройка Git

```bash
# нужно чтобы GitHub знал кто сделал изменения
git config --global user.name "smiqie"
git config --global user.email "smiqie9201@gmail.com"

git config --list
```

- `user.name` - устанавливает имя автора
- `user.email` - устанавливает email автора
- `--list` - показывает все настройки (в том числе, и все текущие настройки Git, собранные из `global/local/system` конфигов)

**Флаги области действия:**

- `--local` - настройки только для текущего репозитория (команда выполняется внутри папки проекта)
- `--global` - настройки для всех репозиториев текущего пользователя ОС (применяются ко всем нашим проектам)
- `--system` - настройки для всех пользователей системы (требует sudo)
	- если на компьютере несколько учетных записей ОС, эти настройки будут применяться для всех
- **Приоритет:** `local` > `global` > `system`

**Пример:**

```bash
# Глобальная настройка
git config --global user.name "smiqie"

# Локальная настройка (переопределит глобальную для этого проекта)
git config --local user.name "work_account"
```

---

# `git init` - инициализация репозитория

```bash
git init
```

- превращает обычную папку в локальный репозиторий
- создает скрытую папку `.git` с настройками Git

---

# `git status` - проверка состояния репозитория

```bash
git status
```

- показывает какие файлы изменены
- показывает какие файлы добавлены в staging area
- показывает какие файлы не отслеживаются Git

---

# `git add` - добавление файлов в staging area

```bash
git add .              # добавить все файлы и папки
git add css/           # добавить конкретную папку
git add index.html     # добавить конкретный файл
```

- `.` - добавляет все файлы из текущей папки
- `папка/` - добавляет конкретную папку со всем содержимым
- `файл.расширение` - добавляет конкретный файл
- `staging area` - временная зона перед коммитом

---

# `git commit` - создание коммита

```bash
git commit -m "Initial commit"
```

- `-m "text"` (`--message`) - добавляет комментарий к коммиту сразу в командной строке
- коммит сохраняет текущее состояние проекта локально
- можно создавать сколько угодно коммитов до отправки на GitHub

==**Важно:** изучить Conventional Commits - стандарты написания commit messages==

---

# `git log` - история коммитов

```bash
git log         # список всех коммитов
git log -3      # последние 3 коммита
git log -p      # подробная информация с изменениями
```

- `-<число>` - показать список последних `N` коммитов 
- `-p` (`--patch`) - показывает детальные изменения в файлах для каждого коммита
- каждый коммит имеет уникальный hash (идентификатор)

---

# `git rm` - удаление файлов

```bash
git rm file.txt      # удалить файл
git rm -r folder/    # удалить папку
```

- `-r` (`--recursive`) - рекурсивное удаление папки со всем содержимым
- отличие от обычного `rm`: автоматически добавляет изменение в staging area

---

# `git branch` - работа с ветками

```bash
git branch -M main
git branch -m main
```

- `-M <название>` (`--move --force`) - принудительно переименовывает текущую ветку (обычно master → main)
    -  переименует даже если ветка с таким именем уже существует (т.к. использует `--force`)
- `-m <название>` (`--move`) - переименовывает текущую ветку
    -  выдаст ошибку если ветка с таким именем уже существует (безопаснее)
    - **лучше использовать `-m`** если не уверены, `-M` - только когда точно знаем что делаем

---

# `git remote` - работа с удаленными репозиториями

```bash
git remote add origin https://github.com/username/repo.git
git remote -v
```

- `add <название> <URL>` - подключает удаленный репозиторий
    - `origin` - стандартное имя для основного удаленного репо (имя, который мы даем этой ссылке - как переменная)
	    - по сути можем называть как угодно (`project`, `backup` и тд) - но все используют `origin` как стандарт для главного репозитория
	    - когда пишем `git push origin main`, Git находит ссылку сохраненную под именем `origin` и пушит туда
    - `URL` - ссылка на GitHub репозиторий
- `-v` (`--verbose`) - показывает список удаленных репо и их URL
    - `fetch` - откуда Git загружает изменения
    - `push` - куда Git отправляет изменения

---

# `git push` - отправка изменений на удаленный репозиторий

```bash
# Первый раз с -u устанавливаем связь
git push -u origin main

# Теперь можно писать коротко (т.к. связь уже установлена)
git push # вместо git push origin main
git pull # вместо git pull origin main
```

- `-u <remote> <branch>` (`--set-upstream`) - устанавливает связь между локальной и удаленной веткой
    - `origin` - название удаленного репо
    - `main` - название ветки

---

# `git clone` - клонирование репозитория

```bash
git clone https://github.com/username/repo.git

# Клонировать только последний коммит
git clone --depth 1 https://github.com/username/repo.git
```

- `<URL>` - скачивает весь репозиторий со всей историей коммитов
- `--depth <число>` - скачивает только последние N коммитов (обычно `--depth 1` для экономии места)
- автоматически создается папка `.git` и связь с удаленным репо (не нужен `git remote add`)
- папка скачивается в текущий каталог терминала

---

# `git pull` - загрузка изменений из удаленного репозитория

```bash
git pull
git pull origin main --rebase
```

- загружает изменения из удаленного репо в локальный
- `origin main` - указывает откуда тянуть, нужен с специфических случаях:
	- `git pull origin main` - когда связь НЕ установлена через `-u`
	- `git pull origin main --rebase` - при конфликтах (редко)
- `--rebase` - перестраивает историю коммитов, помещая локальные коммиты поверх удаленных (решает конфликты)

**Важно:** ВСЕГДА делать `git pull` перед началом работы

---

# `git checkout` - переключение между коммитами/ветками

```bash
git checkout a1b2c3d4
```

- `<hash>` - переключается на конкретный коммит по его идентификатору из `git log`
- позволяет вернуться к любому сохраненному состоянию проекта

---

# Создание удаленного репозитория на GitHub

1. New Repository
2. Заполнить:
    - **Repository Name** - имя репозитория
    - **Public/Private** - публичный (все видят) / приватный (только мы и соавторы)
    - **README.md** - описание проекта (НЕ добавлять при первом создании - избежим конфликтов)
    - **.gitignore** - файл с правилами игнорирования (можно позже)
    - **License** - лицензия проекта (можно позже)

---

# Добавление соавторов (GitHub)

Репозиторий → Settings → Collaborators → Add People

---

# Токены доступа

- GitHub требует Personal Access Token вместо пароля для HTTPS
- Создать: https://github.com/settings/tokens

---

# Практические примеры (комбинации команд)

### Первая настройка Git на новом компьютере

```bash
git config --global user.name "smiqie"
git config --global user.email "smiqie9201@gmail.com"
git config --list  # проверка
```

### Создание нового проекта и загрузка на GitHub

```bash
# Создание локального репо
git init
git add .
git commit -m "Initial commit"

# Подключение к GitHub
git branch -M main
git remote add origin https://github.com/username/repo.git
git push -u origin main
```

### Клонирование и работа с существующим проектом

```bash
# Скачать проект
git clone https://github.com/username/project.git
cd project

# Перед работой загрузить последние изменения
git pull

# Внести изменения → добавить → закоммитить → отправить
git add .
git commit -m "Add new feature"
git push
```

### Работа в команде

```bash
# Перед началом работы загрузить изменения
git pull

# Внести изменения
git add .
git commit -m "Fix navigation bug"
git push

# Если конфликт (кто-то успел раньше):
git pull origin main --rebase
git push origin main
```

### Решение конфликта при первом push (если создали README на GitHub)

```bash
# Проблема: на GitHub уже создан коммит с README, а у нас свой
git pull origin main --rebase  # слить репо не удаляя файлы
git push origin main           # отправить
```