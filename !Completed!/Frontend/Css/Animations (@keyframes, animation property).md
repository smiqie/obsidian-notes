# `@keyframes` - создание анимации

```css
/* Вариант 1: from/to */
@keyframes move-to-right {
  from {
    translate: 0;
  }
  to {
    translate: 75vw;
  }
}

/* Вариант 2: проценты (0% - 100%) */
@keyframes move-to-right {
  0% {
    translate: 0;
  }
  100% {
    translate: 75vw;
  }
}

/* Начальный кадр необязателен (возьмется изначальное состояние элемента) */
@keyframes move-to-right {
  100% {
    translate: 75vw;
  }
}

/* Можно добавлять сколько угодно ключевых кадров */
@keyframes complex-animation {
  0% {
    translate: 0;
    background: red;
  }
  50% {
    translate: 50vw;
    background: blue;
  }
  100% {
    translate: 75vw;
    background: green;
  }
}
```

- `@keyframes` - директива для объявления анимации (объявляет правила для ключевых кадров)
- **Ключевые кадры** - описывают значения свойств в определенный момент времени
- **Именование кадров:**
    - `from` / `to` - начальный и конечный кадр
    - `0%` до `100%` - проценты от длительности анимации

---

# `animation` - применение анимации (shorthand property)

```css
/* Минимальная запись (имя анимации + длительность) - зачастую этого может быть достаточно */
.box {
  animation: move-to-right 1s;
}

/* Полная запись (НЕ рекомендуется - сложно читать, лучше манипулировать отдельными подсвойствами) */
.box-2 {
  animation: move-to-right 1s ease-in 0.5s infinite reverse both running;
}
```

- анимация запускается после загрузки DOM-дерева (когда HTML и CSS полностью загружены)
- по умолчанию анимация запускается **1 раз** и элемент возвращается в исходное состояние

---

# `animation-name` - имя анимации

```css
.box {
  animation-name: move-to-right;
}
```

- имя анимации из `@keyframes`

---

# `animation-duration` - длительность

```css
.box {
  animation-duration: 1s;
  animation-duration: 500ms;
}
```

- длительность анимации в секундах (`s`) или миллисекундах (`ms`)
- значение по умолчанию: `0s`

---

# `animation-delay` - задержка

```css
.box {
  animation-delay: 1s;      /* задержка перед началом */
  animation-delay: -0.5s;   /* анимация начнется "из фона" (не с самого начала) */
}
```

- задержка перед началом анимации в секундах (`s`) или миллисекундах (`ms`)
- можно указывать отрицательные значения - анимация запустится как будто в фоне (фактически начнется не с самого начала)
- полезно чтобы сайт успел прогрузиться

---

# `animation-iteration-count` - количество повторов

```css
.box {
  animation-iteration-count: 3;         /* 3 раза */
  animation-iteration-count: infinite;  /* бесконечно */
}
```

- по умолчанию анимация работает **1 раз**
- можно указать целое число больше 0
- `infinite` - бесконечная анимация

---

# `animation-timing-function` - функция скорости

```css
.box {
  animation-timing-function: ease;
  animation-timing-function: linear;
  animation-timing-function: ease-in-out;
}
```

- функция скорости анимации (аналогично `transition`) ==**!добавить ссылку!**==
- значения: `ease`, `linear`, `ease-in`, `ease-out`, `ease-in-out`, `cubic-bezier()`

---

# `animation-direction` - направление анимации

```css
.box {
  /* 1 → последний, затем возврат к 1 (по умолчанию) */
  animation-direction: normal;   
  
  /* последний → 1, затем возврат к последнему */        
  animation-direction: reverse;    
     
  /* нечетные повторы (1, 3, 5...) - обычный порядок, четные (2, 4, 6...) - обратный */   
  animation-direction: alternate;    
  
  /* нечетные (1, 3, 5...) - обратный порядок, четные (2, 4, 6...) - обычный */    
  animation-direction: alternate-reverse; 
}
```

- `normal` - анимация будет выполняться от 1-го до последнего кадра, затем возврат к 1-му (по умолчанию)
- `reverse` - анимация будет выполняться от последнего до 1-го кадра, затем возврат к последнему
- `alternate` - нечетные повторы в обычном порядке, четные в обратном
- `alternate-reverse` - нечетные повторы в обратном порядке, четные в обычном

---

# `animation-play-state` - пауза/воспроизведение

```css
.box {
  animation-play-state: running; /* воспроизведение (по умолчанию) */
  animation-play-state: paused;  /* пауза */
}

/* Пример с hover */
.box:hover {
  animation-play-state: paused;
}
```

- **Значения:**
	- `running` - воспроизведение (по умолчанию)
	- `paused` - анимация замораживается (с возможностью продолжения)

---

# `animation-fill-mode` - состояние до/после анимации

```css
.box {
  animation-fill-mode: backwards; /* элемент сохраняет стили 1-го кадра на протяжении задержки */
  animation-fill-mode: forwards;  /* элемент сохраняет стили последнего кадра после завершения */
  animation-fill-mode: both;      /* backwards + forwards */
}
```

- настройка когда и каким образом применяются стили анимации (управляет моментами, когда анимация ещё не началась или уже закончилась, т.е. поведение вне анимации)
	- `backwards` - элемент сохраняет стили первого ключевого кадра (0%) на протяжении периода задержки (`animation-delay`)
	- `forwards` - элемент сохраняет стили последнего кадра после завершения анимации
	- `both` - комбинация `backwards` + `forwards`

---

# `backface-visibility` - исправление проблем с анимацией

```css
.box {
  backface-visibility: visible; /* по умолчанию */
  backface-visibility: hidden;  /* лучше ставить это значение */
}
```

- исправляет проблемы с анимациями (дергание, просвечивание, проблемы с гранями) - добавляется к анимированным элементам
- позволяет нормализовать поведение анимации/переходов/трансформаций
- **Значения:**
	- `visible` - по умолчанию
	- `hidden` - прячет задние контуры которые могут просвечивать (лучше ставить это значение)

---

# Хорошая практика

```css
/* Правильно */
transition: all 0.3s;

/* Тоже правильно (можно опустить 0) */
transition: all .3s;
```

- можно опускать `0` в десятичных дробях (`.3s` вместо `0.3s`)